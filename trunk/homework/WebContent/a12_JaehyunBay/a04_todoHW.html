<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type = "text/css">
/*

*/

</style>

<script src = "http://code.jquery.com/jquery-1.10.2.js">
</script>
<script type = "text/javascript">

/*
 	수학연습사이트
 	1단계 
 	[@@] + [@@] = [입력하세요!]
 	입력하세요에 focus순간 입력가능. 문제삭제처리. 정답맞을떄,틀렷을때 문구.
 	
 	2단계 
 	Math.random()으로 ## 임의의 사칙연산 투입.
 	[@@] +-* /% [@@] = [입력하세요!]
 	위 내용 selector이용 선택처리.
 	
 	3단계 ##숙제!!!
 	10문제 각문제에 시간 count down처리. 
 	일정시간지나면 다음문제.
 	11번쨰에는 결과물.
 
 */
 var num01;
 var num02;
 var arith = ["+","-","*","/","%" ];
 var ran;  
 var resultList ;
 var questionInt;
 var timeCnt= 20;
 
 window.onload = function(){
	 solveProb();
	$("#timeChk").html("지금 설정된 제한시간: " + timeCnt + "초");
	/* 	if(){
			document.getElementById("timeChk").innerHTML = "문제끝.";
			clearInterval(questionInt);
		}
 */
 }
 
 var timeCons = setInterval(function(){
	 $("#timeChk").html("지금 남은시간은..."+ (timeCnt-1)+ "초");
	 timeCnt--;
	 if(timeCnt == 0){
		 clearInterval(timeCons);
		 $(":button").attr("disabled","true");
	 }
},1000);
 
 
var questionInt = setInterval( function(){
	 solveProb();
 },5000);
 $(document).ready(function(){
	/* for(var inx = 0; inx< 4; inx++){
		$("input:eq("+inx+"):disabled").val();	
	} */
	
	 
	 //setInterval(반복함수, 반복할시간(1/1000))
	timeCons;
	questionInt;
 });
 
 
 
 
	function solveProb(){     // 문제없음. 값 추출.
		 ran = parseInt(Math.random()*5);
		 num01= parseInt(Math.random()*10);
		 num02= parseInt(Math.random()*10);
		 resultList = [(num01+num02) , 
						 (num01-num02) , 
						 (num01*num02) , 
						 Math.trunc(num01/num02) , 
						 (num01%num02) ];
					 
		$("input:eq(0)").val(num01);
		$("input:eq(1)").val(arith[ran]);
		$("input:eq(2)").val(num02);
		$("input:eq(4)").val("goCheck!")
		
		$("input:eq(3)").on("click", function(){
		$("input:eq(3):enabled").css("background-color", "lightblue");
		$("input:eq(3):focus").val("");
		});
		console.log("???1"); 
		checkAnsw();
	}
	
	function checkAnsw(){
		 $("input:button").unbind().click(function(){      //////////// unbind?? 왜??????????????????
			chk();
		}); 
		
		
		
	}
	

var countCorr =0;
 	function chk(){
 		console.log(arith[ran]);
 		var resultMath;
 		switch(arith[ran]){
		 	case "+" : resultMath= resultList[0]
				break;
		 	case "-" : resultMath= resultList[1]
				break;
		 	case "*" : resultMath= resultList[2]
				break;
		 	case "/" : resultMath= resultList[3]
						$("input:eq(1)").val("/ 는 trunc 사용햇습니다.")
		 		break;
		 	case "%" : resultMath= resultList[4]
				break;
 			default: console.log("그릉거없당.");
 		}
		if(resultMath ==  parseInt($("input:eq(3)").val()) ){
			countCorr++;
			console.log("정답!  맞은갯수:" + countCorr);
		}
		else{
			console.log( resultMath );
			console.log( parseInt($("input:eq(3)").val())  );
			console.log("떙처리!");			
		}
 	}
 
 
 


</script>

</head>
<body>
<!-- -->
<h1 id = timeChk></h1>
<input type = text /> <input type = text  /> <input type = text /> <input type = text value = "00000"/>
<input type = button />

</body>
</html>